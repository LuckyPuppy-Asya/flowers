function email_test(t){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(t.value)}let sliders=document.querySelectorAll("._swiper");if(sliders){for(let t=0;t<sliders.length;t++){let e=sliders[t];if(!e.classList.contains("swiper-bild")){let t=e.children;if(t)for(let e=0;e<t.length;e++){t[e].classList.add("swiper-slide")}let l=e.innerHTML,r=document.createElement("div");if(r.classList.add("swiper-wrapper"),r.innerHTML=l,e.innerHTML="",e.appendChild(r),e.classList.add("swiper-bild"),e.classList.contains("_swiper_scroll")){let t=document.createElement("div");t.classList.add("swiper-scrollbar"),e.appendChild(t)}}e.classList.contains("_gallery")}sliders_bild_callback()}function sliders_bild_callback(t){}let sliderScrollItems=document.querySelectorAll("._swiper_scroll");if(sliderScrollItems.length>0)for(let t=0;t<sliderScrollItems.length;t++){const e=sliderScrollItems[t],l=e.querySelector(".swiper-scrollbar");new Swiper(e,{observer:!0,observeParents:!0,direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:l,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}function sliders_bild_callback(t){}function DynamicAdapt(t){this.type=t}document.querySelector(".banner-slider")&&new Swiper(".banner-slider",{effect:"fade",fadeEffect:{crossFade:!0},autoplay:{delay:5e3,disableOnInteraction:!1},observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,speed:800,pagination:{el:".banner-pag",clickable:!0},on:{lazyImageReady:function(){ibg()}}}),document.querySelector(".hero-catalog__slider")&&new Swiper(".hero-catalog__slider",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,speed:800,pagination:{el:".hero-pag",clickable:!0},navigation:{nextEl:".hero-btn--next",prevEl:".hero-btn--prev"},on:{lazyImageReady:function(){ibg()}}}),document.querySelector(".card-related__slider")&&new Swiper(".card-related__slider",{observer:!0,observeParents:!0,speed:800,pagination:{el:".related-pag",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},479.98:{slidesPerView:2,spaceBetween:15},767.98:{slidesPerView:3,spaceBetween:15},991.98:{slidesPerView:4,spaceBetween:30}},on:{lazyImageReady:function(){ibg()}}}),DynamicAdapt.prototype.init=function(){const t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t],l=e.dataset.da.trim().split(","),r={};r.element=e,r.parent=e.parentNode,r.destination=document.querySelector(l[0].trim()),r.breakpoint=l[1]?l[1].trim():"767",r.place=l[2]?l[2].trim():"last",r.index=this.indexInParent(r.parent,r.element),this.оbjects.push(r)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(t){return"("+this.type+"-width: "+t.breakpoint+"px),"+t.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(t,e,l){return Array.prototype.indexOf.call(l,t)===e}));for(let e=0;e<this.mediaQueries.length;e++){const l=this.mediaQueries[e],r=String.prototype.split.call(l,","),n=window.matchMedia(r[0]),o=r[1],i=Array.prototype.filter.call(this.оbjects,(function(t){return t.breakpoint===o}));n.addListener((function(){t.mediaHandler(n,i)})),this.mediaHandler(n,i)}},DynamicAdapt.prototype.mediaHandler=function(t,e){if(t.matches)for(let t=0;t<e.length;t++){const l=e[t];l.index=this.indexInParent(l.parent,l.element),this.moveTo(l.place,l.element,l.destination)}else for(let t=0;t<e.length;t++){const l=e[t];l.element.classList.contains(this.daClassname)&&this.moveBack(l.parent,l.element,l.index)}},DynamicAdapt.prototype.moveTo=function(t,e,l){e.classList.add(this.daClassname),"last"===t||t>=l.children.length?l.insertAdjacentElement("beforeend",e):"first"!==t?l.children[t].insertAdjacentElement("beforebegin",e):l.insertAdjacentElement("afterbegin",e)},DynamicAdapt.prototype.moveBack=function(t,e,l){e.classList.remove(this.daClassname),void 0!==t.children[l]?t.children[l].insertAdjacentElement("beforebegin",e):t.insertAdjacentElement("beforeend",e)},DynamicAdapt.prototype.indexInParent=function(t,e){const l=Array.prototype.slice.call(t.children);return Array.prototype.indexOf.call(l,e)},DynamicAdapt.prototype.arraySort=function(t){"min"===this.type?Array.prototype.sort.call(t,(function(t,e){return t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?-1:"last"===t.place||"first"===e.place?1:t.place-e.place:t.breakpoint-e.breakpoint})):Array.prototype.sort.call(t,(function(t,e){return t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?1:"last"===t.place||"first"===e.place?-1:e.place-t.place:e.breakpoint-t.breakpoint}))};const da=new DynamicAdapt("max");da.init();var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function ibg(){if(isIE()){let e=document.querySelectorAll("._ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&null!=e[t].querySelector("img").getAttribute("src")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("html").classList.add("ie"),isMobile.any()&&document.querySelector("html").classList.add("_touch"),ibg(),window.addEventListener("load",(function(){document.querySelector(".wrapper")&&setTimeout((function(){document.querySelector(".wrapper").classList.add("_loaded")}),0)}));let unlock=!0;if(location.hash){const t=location.hash.replace("#","");document.querySelector(".popup_"+t)?popup_open(t):document.querySelector("div."+t)&&_goto(document.querySelector("."+t),500,"")}let iconMenu=document.querySelector(".menu__icon"),menuBody=document.querySelector(".menu__body");if(null!=iconMenu){let t=500;iconMenu.addEventListener("click",(function(e){unlock&&(body_lock(t),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active"))}))}function menu_close(){let t=document.querySelector(".menu__icon"),e=document.querySelector(".menu__body");t.classList.remove("_active"),e.classList.remove("_active")}function body_lock(t){document.querySelector("body").classList.contains("_lock")?body_lock_remove(t):body_lock_add(t)}function body_lock_remove(t){let e=document.querySelector("body");if(unlock){let l=document.querySelectorAll("._lp");setTimeout(()=>{for(let t=0;t<l.length;t++){l[t].style.paddingRight="0px"}e.style.paddingRight="0px",e.classList.remove("_lock")},t),unlock=!1,setTimeout((function(){unlock=!0}),t)}}function body_lock_add(t){let e=document.querySelector("body");if(unlock){let l=document.querySelectorAll("._lp");for(let t=0;t<l.length;t++){l[t].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}e.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",e.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),t)}}let tabs=document.querySelectorAll("._tabs");for(let t=0;t<tabs.length;t++){let e=tabs[t],l=e.querySelectorAll("._tabs-item"),r=e.querySelectorAll("._tabs-block");for(let t=0;t<l.length;t++){let e=l[t];e.addEventListener("click",(function(n){for(let t=0;t<l.length;t++){l[t].classList.remove("_active"),r[t].classList.remove("_active")}e.classList.add("_active"),r[t].classList.add("_active"),n.preventDefault()}))}}function search_in_list(t){let e=t.parentNode.querySelector("ul").querySelectorAll("li"),l=t.value.toUpperCase();for(i=0;i<e.length;i++){let t=e[i],r=t;txtValue=r.textContent||r.innerText,txtValue.toUpperCase().indexOf(l)>-1?t.style.display="":t.style.display="none"}}let _slideUp=(t,e=500)=>{t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},_slideDown=(t,e=500)=>{t.style.removeProperty("display");let l=window.getComputedStyle(t).display;"none"===l&&(l="block"),t.style.display=l;let r=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=r+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},_slideToggle=(t,e=500)=>{if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?_slideDown(t,e):_slideUp(t,e)};function _wrap(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)}function _removeClasses(t,e){for(var l=0;l<t.length;l++)t[l].classList.remove(e)}function _is_hidden(t){return null===t.offsetParent}Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);let searchSelects=document.querySelectorAll(".search-form__btn"),menuForm=document.querySelector(".header__search"),searchFormInput=document.querySelector(".search-form__input");searchSelects.length>0&&searchSelects.forEach(t=>{t.addEventListener("click",(function(e){t.classList.toggle("_active"),menuForm.classList.toggle("_active"),searchFormInput.value=""}))});const menuLinks=document.querySelectorAll(".menu__link[data-goto]");if(menuLinks.length>0){function onMenuLinkClick(t){const e=t.target;if(e.dataset.goto&&document.querySelector(e.dataset.goto)){const l=document.querySelector(e.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;iconMenu.classList.contains("_active")&&(document.body.classList.remove("_lock"),iconMenu.classList.remove("_active"),menuBody.classList.remove("_active")),window.scrollTo({top:l,behavior:"smooth"}),t.preventDefault()}}menuLinks.forEach(t=>{t.addEventListener("click",onMenuLinkClick)})}const animItems=document.querySelectorAll("._anim-items");if(animItems.length>0){function animOnScroll(){for(let t=0;t<animItems.length;t++){const e=animItems[t],l=e.offsetHeight,r=offset(e).top,n=4;let o=window.innerHeight-l/n;l>window.innerHeight&&(o=window.innerHeight-window.innerHeight/n),pageYOffset>r-o&&pageYOffset<r+l?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function offset(t){const e=t.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+l}}window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},300)}let marketing=document.querySelector(".marketing");if(marketing){let t=0,e=7e3;const l=[{title:"Pink Rose Day Spa",where:"Moscow, Russia",image:"r1-min.jpg"},{title:"Rose Gold Strike",where:"London, Great Britain",image:"r2-min.jpg"},{title:"Peace Rose",where:"Rome, Italy",image:"r3-min.jpg"}],r=()=>{marketing.classList.remove("marketing--visible")},n=()=>{marketing.classList.remove("marketing--visible"),setTimeout(()=>{marketing.classList.add("marketing--visible")},e-4e3);const r=""+l[t].title,n="1 day ago "+l[t].where,o="img/"+l[t].image;marketing.querySelector(".marketing__title").textContent=r,marketing.querySelector(".marketing__when-from").textContent=n,marketing.querySelector(".marketing__image>img").src=o,t++,t===l.length&&(t=0)};n(),setInterval(n,e),marketing.addEventListener("click",t=>{t.target.classList.contains("marketing__close")&&r()})}let catalogFiltersTop=document.querySelectorAll(".catalog-filter__top"),hideFilters=document.querySelector(".hide-filters"),catalogFilterItems=document.querySelectorAll(".catalog-filter__item"),catalogChoice=document.querySelector(".catalog-choice");if(document.querySelector(".catalog")){catalogFiltersTop.forEach(t=>{t.addEventListener("click",t=>{t.currentTarget.closest(".catalog-filter").classList.toggle("catalog-filter--open")})}),hideFilters.addEventListener("click",t=>{catalogFiltersTop.forEach(t=>{t.closest(".catalog-filter").classList.remove("catalog-filter--open")})});const t=t=>`\n      <button class="catalog-choice__item" data-choice-text="${t}">\n        ${t}\n\t\t  <img src="img/close.svg" alt="icon-close">\n      </button>\n    `;catalogFilterItems.forEach(e=>{e.querySelector("input").addEventListener("change",l=>{if(e.querySelector("input").checked){e.querySelector(".checkbox").classList.add("checkbox--active");let l=e.querySelector(".checkbox__text").textContent;catalogChoice.insertAdjacentHTML("afterbegin",t(l))}else{e.querySelector(".checkbox").classList.remove("checkbox--active");let t=e.querySelector(".checkbox").dataset.text;document.querySelector(`[data-choice-text="${t}"]`).remove()}e.closest(".catalog-filter").querySelector(".catalog-filter__quantity").textContent=e.closest(".catalog-filter__items").querySelectorAll(".checkbox--active").length,document.querySelectorAll(".checkbox--active").length>0?catalogChoice.style.display="block":catalogChoice.style.display="none"})}),catalogChoice.addEventListener("click",t=>{if(t.target.classList.contains("catalog-choice__item")){t.target.remove();let e=t.target.textContent.trimLeft().trimRight();document.querySelector(`[data-text="${e}"]`).querySelector("input").checked=!1,document.querySelector(`[data-text="${e}"]`).classList.remove("checkbox--active")}t.target.classList.contains("catalog-choice__clear")&&(Array.from(t.currentTarget.children).forEach(t=>{t.classList.contains("catalog-choice__clear")||t.remove(),document.querySelectorAll(".catalog-filter__quantity").forEach(t=>t.textContent=0),catalogFilterItems.forEach(t=>{t.querySelector("input").checked=!1,t.querySelector(".checkbox").classList.remove("checkbox--active")})}),t.currentTarget.style.display="none"),1===t.currentTarget.children.length&&(t.currentTarget.style.display="none")})}let customSelect=document.querySelectorAll(".custom-select"),catalogColumns=document.querySelector(".catalog-columns__list"),catalogGridContent=document.querySelector(".catalog-grid__content");document.querySelector(".catalog")&&catalogColumns.addEventListener("click",t=>{if(t.target.classList.contains(".catalog-columns__btn")||t.target.closest(".catalog-columns__item")){let e=t.target.dataset.columns;document.querySelectorAll(".catalog-columns__btn").forEach(t=>{t.classList.remove("catalog-columns__btn--current")}),t.target.classList.add("catalog-columns__btn--current"),catalogGridContent.dataset.gridColumns=e}}),customSelect&&customSelect.forEach(t=>{t.addEventListener("click",t=>{if(t.currentTarget.classList.toggle("custom-select--open"),t.target.classList.contains("custom-select__item")){let e=t.target.textContent;t.currentTarget.querySelector(".custom-select__top").textContent=e}})});let colorSelect=document.querySelector(".color-select"),sizeSelect=document.querySelector(".size-select");if(colorSelect&&colorSelect.addEventListener("click",t=>{if(t.target.classList.contains("color-select__btn")){document.querySelectorAll(".color-select__btn").forEach(t=>t.classList.remove("color-select__btn--active"));let e=t.target.dataset.color;t.currentTarget.querySelector(".color-select__selected span").textContent=e,t.target.classList.add("color-select__btn--active")}}),sizeSelect){let t="";sizeSelect.addEventListener("click",e=>{if(e.target.classList.contains("size-select__btn")){e.currentTarget.querySelector(".size-select__clear").style.display="inline-flex";let l=e.target.dataset.color;if(e.currentTarget.querySelector(".size-select__selected span").textContent=l,e.target.classList.toggle("size-select__btn--active"),e.target.classList.contains("size-select__btn--active")){let l=e.target.textContent;t+=l+", "}else{let l=e.target.textContent+", ";t=t.replace(l,"")}e.currentTarget.querySelector(".size-select__selected span").textContent=t,t||(e.currentTarget.querySelector(".size-select__selected span").textContent="Select a size")}e.target.classList.contains("size-select__clear")&&(e.currentTarget.querySelector(".size-select__selected span").textContent="Select a size",document.querySelectorAll(".size-select__btn").forEach(t=>t.classList.remove("size-select__btn--active")),e.target.style.display="none",t="")})}let stepper=document.querySelector(".stepper");if(stepper){const t=stepper.querySelector(".stepper__input"),e=stepper.querySelector(".stepper__btn--minus"),l=stepper.querySelector(".stepper__btn--plus");t.addEventListener("keydown",t=>{t.currentTarget.value<=1?(e.classList.add("stepper__btn--disabled"),l.classList.remove("stepper__btn--disabled")):e.classList.remove("stepper__btn--disabled"),t.currentTarget.value>99998?(e.classList.remove("stepper__btn--disabled"),l.classList.add("stepper__btn--disabled")):l.classList.remove("stepper__btn--disabled")}),l.addEventListener("click",r=>{let n=parseInt(t.value);n++,t.value=n,e.classList.remove("stepper__btn--disabled"),t.value>99998?(t.value=99999,l.classList.add("stepper__btn--disabled")):l.classList.remove("stepper__btn--disabled")}),e.addEventListener("click",r=>{let n=parseInt(t.value);n--,t.value=n,l.classList.remove("stepper__btn--disabled"),t.value<=1?(t.value=1,e.classList.add("stepper__btn--disabled")):e.classList.remove("stepper__btn--disabled")})}let cardSliderThumbs=document.querySelector(".card-slider__thumbs"),sliderImg=document.querySelector(".card-slider__main img");cardSliderThumbs&&cardSliderThumbs.addEventListener("click",t=>{if(t.target.classList.contains("card-slider__thumb")){let e=t.target.querySelector("img").getAttribute("src");sliderImg.setAttribute("src",e)}});let cardDescrLink=document.querySelectorAll(".card-description__link");cardDescrLink.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();let e=t.currentTarget.getAttribute("href");cardDescrLink.forEach(t=>t.classList.remove("card-description__link--active")),document.querySelectorAll(".card-description__content").forEach(t=>t.classList.remove("card-description__content--active","fade")),t.currentTarget.classList.add("card-description__link--active"),document.querySelector(`[data-target="${e}"]`).classList.add("card-description__content--active","fade")})});let navig=document.querySelector(".products-grid");const mainProductsBtns=document.querySelectorAll(".main-products__btn");if(navig&&mainProductsBtns.length>0){function mySort(t,e){mainProductsBtns.length>0&&(mainProductsBtns.forEach(t=>{t.classList.remove("main-products__btn--current")}),t.target.classList.add("main-products__btn--current"));for(let t=0;t<navig.children.length;t++)for(let l=t;l<navig.children.length;l++)navig.children[t].getAttribute("data-sort")!=e&&(replacedNode=navig.replaceChild(navig.children[l],navig.children[t]),insertAfter(replacedNode,navig.children[t]))}function insertAfter(t,e){return e.parentNode.insertBefore(t,e.nextSibling)}document.querySelector('[data-filter="best-sellers"]').onclick=function(t){mySort(t,"best")},document.querySelector('[data-filter="new-products"]').onclick=function(t){mySort(t,"new")},document.querySelector('[data-filter="sale-products"]').onclick=function(t){mySort(t,"sale")}}const productsGrid=document.querySelector(".products-grid"),loadMore=document.querySelector(".main-products__more");let quantityProducts=10,dataLength="";const normalPrice=t=>String(t).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ");if(productsGrid){const t=(t=5)=>{fetch("../products.json").then(t=>t.json()).then(e=>{dataLength=e.length,productsGrid.innerHTML="";for(let l=0;l<e.length;l++)if(l<t){let t=e[l];switch(t.label){case"data-sort='sale'":productsGrid.innerHTML+=`\n\t\t\t\t\t\t\t\t<li class="products-grid__item"  ${t.label}>\n\t\t\t\t\t\t\t\t<article class="product">\n\t\t\t\t\t\t\t\t\t<div class="product__image _ibg">\n\t\t\t\t\t\t\t\t\t\t<div class="product__ribbon">Sale</div>\n\t\t\t\t\t\t\t\t\t\t<img src="${t.mainImage}" alt="${t.title}"></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h3 class="product__title">\n\t\t\t\t\t\t\t\t\t\t<a href="#">\n\t\t\t\t\t\t\t\t\t\t${t.title}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<div class="product-custom">\n\t\t\t\t\t\t\t\t\t\t<div class="product-custom__price">\n\t\t\t\t\t\t\t\t\t\t<span class="product__price">$${normalPrice(t.price)}.00</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="product__oldprice">$${normalPrice(t.oldPrice)}.00</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="product-custom__cart">\n\t\t\t\t\t\t\t\t\t\t\t<button class="to-cart" data-id="${t.id}" aria-label="Показать информацию о товаре">Add to cart</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t`;continue;case"data-sort='best'":productsGrid.innerHTML+=`\n\t\t\t\t\t\t\t\t\t<li class="products-grid__item" ${t.label}>\n\t\t\t\t\t\t\t\t\t\t<article class="product">\n\t\t\t\t\t\t\t\t\t\t\t<div class="product__image _ibg">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="product__best _icon-certificate"><span>Best Seller</span></span>\n\t \t\t\t\t\t\t\t\t\t\t\t<img src="${t.mainImage}" alt="${t.title}"></img>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<h3 class="product__title">\n\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${t.title}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-custom">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="product-custom__price">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="product__price">$${normalPrice(t.price)}.00</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="product-custom__cart">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="to-cart" data-id="${t.id}" aria-label="Показать информацию о товаре">Add to cart</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t`;continue;case"data-sort='new'":productsGrid.innerHTML+=`\n\t\t\t\t\t\t\t\t\t<li class="products-grid__item" ${t.label}>\n\t\t\t\t\t\t\t\t\t\t<article class="product">\n\t\t\t\t\t\t\t\t\t\t\t<div class="product__image _ibg">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="product__new _icon-spa"><span>New</span></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src="${t.mainImage}" alt="${t.title}"></img>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<h3 class="product__title">\n\t\t\t\t\t\t\t\t\t\t\t\t<a href="#">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${t.title}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-custom">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="product-custom__price">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="product__price">$${normalPrice(t.price)}.00</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="product-custom__cart">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="to-cart" data-id="${t.id}" aria-label="Показать информацию о товаре">Add to cart</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t`;continue}}mainProductsBtns.forEach(t=>{t.classList.remove("main-products__btn--current")})}).then(()=>{cartLogic()})};t(quantityProducts),loadMore.addEventListener("click",e=>{quantityProducts+=5,t(quantityProducts),loadMore.style.display=quantityProducts>=dataLength?"none":"inline-block"})}const burger=document.querySelector(".burger"),navClose=document.querySelector(".nav__close"),nav=document.querySelector(".nav");burger&&(burger.addEventListener("click",()=>{nav.classList.add("nav--visible")}),navClose.addEventListener("click",()=>{nav.classList.remove("nav--visible")}),nav.addEventListener("click",t=>{t.target.classList.contains("nav__link")&&nav.classList.remove("nav--visible")}));const mobileFiltersOpen=document.querySelector(".catalog-mobile-filters"),catalogFilters=document.querySelector(".catalog-filters");if(mobileFiltersOpen){let t=!1;mobileFiltersOpen.addEventListener("click",e=>{t?(mobileFiltersOpen.querySelector("span").textContent="Filters",catalogFilters.classList.remove("catalog-filters--open"),t=!1):(mobileFiltersOpen.querySelector("span").textContent="Close",catalogFilters.classList.add("catalog-filters--open"),t=!0)})}const ratings=document.querySelectorAll(".rating");function initRatings(){let t,e;for(let t=0;t<ratings.length;t++){l(ratings[t])}function l(t){r(t),n(),t.classList.contains("rating_set")&&function(t){const l=t.querySelectorAll(".rating__item");for(let o=0;o<l.length;o++){const i=l[o];i.addEventListener("mouseenter",(function(e){r(t),n(i.value)})),i.addEventListener("mouseleave",(function(t){n()})),i.addEventListener("click",(function(l){r(t),t.dataset.ajax?setRatingValue(i.value,t):(e.innerHTML=o+1,n())}))}}(t)}function r(l){t=l.querySelector(".rating__active"),e=l.querySelector(".rating__value")}function n(l=e.innerHTML){const r=l/.05;t.style.width=r+"%"}}ratings.length>0&&initRatings();const cartBtn=document.querySelector(".cart"),miniCart=document.querySelector(".mini-cart");cartBtn.addEventListener("click",()=>{miniCart.classList.add("mini-cart--visible")}),document.addEventListener("click",t=>{t.target.classList.contains("mini-cart")||t.target.closest(".mini-cart")||t.target.classList.contains("cart")||t.target.classList.contains("mini-product__delete")||t.target.classList.contains("to-cart")||miniCart.classList.remove("mini-cart--visible")});let price=0;const miniCartList=document.querySelector(".mini-cart__list"),fullPrice=document.querySelector(".mini-cart__summ"),cartCount=document.querySelector(".cart__quantity"),priceWithoutSpaces=t=>t.replace(/\s/g,""),plusFullPrice=t=>price+=t,minusFullPrice=t=>price-=t,printFullPrice=()=>{fullPrice.textContent=normalPrice(price)+".00 $"},printQuantity=t=>{cartCount.textContent=t},loadCartData=(t=1)=>{fetch("../products.json").then(t=>t.json()).then(e=>{for(let l of e)if(l.id==t)return miniCartList.insertAdjacentHTML("afterbegin",`\n\t\t\t\t\t<li class="mini-cart__item" data-id="${l.id}">\n\t\t\t\t\t<article class="mini-cart__product mini-product">\n\t\t\t\t\t\t<div class="mini-product__image">\n\t\t\t\t\t\t\t<img src="${l.mainImage}" alt="${l.title}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="mini-product__content">\n\t\t\t\t\t\t\t<div class="mini-product__text">\n\t\t\t\t\t\t\t\t<h3 class="mini-product__title">${l.title}</h3>\n\t\t\t\t\t\t\t\t<span class="mini-product__price">${normalPrice(l.price)}.00&nbsp;$</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button class="mini-product__delete" aria-label="Удалить товар">\n\t\t\t\t\t\t\t\t<svg>\n\t\t\t\t\t\t\t\t\t<use xlink:href="sprite.svg#trash"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t</li>\n            `),l}).then(t=>{var e;e=t.price,price+=e,printFullPrice();let l=document.querySelectorAll(".mini-cart__list .mini-cart__item").length;l>0&&cartCount.classList.add("cart__quantity--visible"),printQuantity(l)})},cartLogic=()=>{document.querySelectorAll(".to-cart").forEach(t=>{t.addEventListener("click",t=>{const e=t.currentTarget.dataset.id;loadCartData(e)})}),miniCartList.addEventListener("click",t=>{if(t.target.classList.contains("mini-product__delete")){const e=t.target.closest(".mini-cart__item"),l=parseInt(priceWithoutSpaces(e.querySelector(".mini-product__price").textContent));e.dataset.id;e.remove(),minusFullPrice(l),printFullPrice();let r=document.querySelectorAll(".mini-cart__list .mini-cart__item").length;0==r&&(cartCount.classList.remove("cart__quantity--visible"),miniCart.classList.remove("mini-cart--visible")),printQuantity(r)}});document.querySelector(".cart-modal-order__list").addEventListener("click",t=>{if(t.target.classList.contains("mini-product__delete")){const e=t.target.closest(".mini-cart__item"),l=parseInt(priceWithoutSpaces(e.querySelector(".mini-product__price").textContent)),r=e.dataset.id;e.remove(),console.log(miniCartList.querySelector(`.mini-cart__item[data-id="${r}"]`)),miniCartList.querySelector(`.mini-cart__item[data-id="${r}"]`).remove(),minusFullPrice(l),printFullPrice();let n=document.querySelectorAll(".cart-modal-order__list .mini-cart__item").length;0==n&&(cartCount.classList.remove("cart__quantity--visible"),miniCart.classList.remove("mini-cart--visible")),printQuantity(n),orderModalQuantity.textContent=document.querySelectorAll(".mini-cart__list .mini-cart__item").length+" item",orderModalSumm.textContent=fullPrice.textContent}})},openOrderModal=document.querySelector(".mini-cart__btn"),orderModalList=document.querySelector(".cart-modal-order__list"),orderModalQuantity=document.querySelector(".cart-modal-order__quantity span"),orderModalSumm=document.querySelector(".cart-modal-order__summ span"),orderModalShow=document.querySelector(".cart-modal-order__show");openOrderModal.addEventListener("click",()=>{const t=document.querySelector(".mini-cart__list").innerHTML;orderModalList.innerHTML=t,orderModalQuantity.textContent=document.querySelectorAll(".mini-cart__list .mini-cart__item").length+" item",orderModalSumm.textContent=fullPrice.textContent}),orderModalShow.addEventListener("click",()=>{orderModalList.classList.contains("cart-modal-order__list--visible")?(orderModalList.classList.remove("cart-modal-order__list--visible"),orderModalShow.classList.remove("cart-modal-order__show--active")):(orderModalList.classList.add("cart-modal-order__list--visible"),orderModalShow.classList.add("cart-modal-order__show--active"))});let forms=document.querySelectorAll("form");if(forms.length>0)for(let t=0;t<forms.length;t++){forms[t].addEventListener("submit",form_submit)}async function form_submit(t){let e=t.target.closest("form");if(0==form_validate(e)){let l=e.getAttribute("action")?e.getAttribute("action").trim():"#",r=e.getAttribute("method")?e.getAttribute("method").trim():"GET";const n=e.getAttribute("data-message"),o=e.getAttribute("data-ajax"),i=e.getAttribute("data-test");if(o){t.preventDefault();let o=new FormData(e);e.classList.add("_sending");let i=await fetch(l,{method:r,body:o});if(i.ok){await i.json();e.classList.remove("_sending"),n&&popup_open(n+"-message"),form_clean(e)}else alert("Ошибка"),e.classList.remove("_sending")}i&&(t.preventDefault(),popup_open(n+"-message"),form_clean(e))}else{let l=e.querySelectorAll("._error");l&&e.classList.contains("_goto-error")&&_goto(l[0],1e3,50),t.preventDefault()}}function form_validate(t){let e=0,l=t.querySelectorAll("._req");if(l.length>0)for(let t=0;t<l.length;t++){const r=l[t];_is_hidden(r)||(e+=form_validate_input(r))}return e}function form_validate_input(t){let e=0,l=t.getAttribute("data-value");if("email"==t.getAttribute("name")||t.classList.contains("_email")){if(t.value!=l){let e=t.value.replace(" ","");t.value=e}email_test(t)||t.value==l?(form_add_error(t),e++):form_remove_error(t)}else"checkbox"==t.getAttribute("type")&&0==t.checked||""==t.value||t.value==l?(form_add_error(t),e++):form_remove_error(t);return e}function form_add_error(t){t.classList.add("_error"),t.parentElement.classList.add("_error");let e=t.parentElement.querySelector(".form__error");e&&t.parentElement.removeChild(e);let l=t.getAttribute("data-error");l&&""!=l&&t.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+l+"</div>")}function form_remove_error(t){t.classList.remove("_error"),t.parentElement.classList.remove("_error");let e=t.parentElement.querySelector(".form__error");e&&t.parentElement.removeChild(e)}function form_clean(t){let e=t.querySelectorAll("input,textarea");for(let t=0;t<e.length;t++){const l=e[t];l.parentElement.classList.remove("_focus"),l.classList.remove("_focus"),l.value=l.getAttribute("data-value")}let l=t.querySelectorAll(".checkbox__input");if(l.length>0)for(let t=0;t<l.length;t++){l[t].checked=!1}let r=t.querySelectorAll("select");if(r.length>0)for(let t=0;t<r.length;t++){const e=r[t],l=e.getAttribute("data-default");e.value=l,select_item(e)}}let viewPass=document.querySelectorAll(".form__viewpass");for(let t=0;t<viewPass.length;t++){const e=viewPass[t];e.addEventListener("click",(function(t){e.classList.contains("_active")?e.parentElement.querySelector("input").setAttribute("type","password"):e.parentElement.querySelector("input").setAttribute("type","text"),e.classList.toggle("_active")}))}let selects=document.getElementsByTagName("select");function selects_init(){for(let t=0;t<selects.length;t++){select_init(selects[t])}document.addEventListener("click",(function(t){selects_close(t)})),document.addEventListener("keydown",(function(t){"Escape"===t.code&&selects_close(t)}))}function selects_close(t){const e=document.querySelectorAll(".select");if(!t.target.closest(".select")&&!t.target.classList.contains("_option"))for(let t=0;t<e.length;t++){const l=e[t],r=l.querySelector(".select__options");l.classList.remove("_active"),_slideUp(r,100)}}function select_init(t){const e=t.parentElement,l=t.getAttribute("class"),r=t.querySelector("option:checked");t.setAttribute("data-default",r.value),t.style.display="none",e.insertAdjacentHTML("beforeend",'<div class="select select_'+l+'"></div>'),t.parentElement.querySelector(".select").appendChild(t),select_item(t)}function select_item(t){const e=t.parentElement,l=e.querySelector(".select__item"),r=t.querySelectorAll("option"),n=t.querySelector("option:checked").text,o=t.getAttribute("data-type");l&&l.remove();let i="";i="input"==o?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+n+'" data-error="Ошибка" data-value="'+n+'" class="select__input"></div>':'<div class="select__value icon-select-arrow"><span>'+n+"</span></div>",e.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+i+'</div><div class="select__options">'+select_get_options(r)+"</div></div></div>"),select_actions(t,e)}function select_actions(t,e){const l=e.querySelector(".select__item"),r=e.querySelector(".select__title"),n=e.querySelector(".select__options"),o=e.querySelectorAll(".select__option"),i=t.getAttribute("data-type"),s=e.querySelector(".select__input");function c(){let l=e.querySelectorAll(".select__option"),r=t.querySelectorAll("option"),n=[];for(let t=0;t<l.length;t++){const e=l[t];if(r[t].removeAttribute("selected"),e.classList.contains("_selected")){const l=e.innerHTML;n.push(l),r[t].setAttribute("selected","selected")}}e.querySelector(".select__value").innerHTML="<span>"+n+"</span>"}function a(t){if(!t){let t=document.querySelectorAll(".select");for(let e=0;e<t.length;e++){const r=t[e],n=r.querySelector(".select__options");r!=l.closest(".select")&&(r.classList.remove("_active"),_slideUp(n,100))}_slideToggle(n,100),e.classList.toggle("_active")}}r.addEventListener("click",(function(t){a()}));for(let l=0;l<o.length;l++){const r=o[l],n=r.getAttribute("data-value"),d=r.innerHTML;"input"==i?s.addEventListener("keyup",select_search):r.getAttribute("data-value")!=t.value||t.hasAttribute("multiple")||(r.style.display="none"),r.addEventListener("click",(function(){for(let t=0;t<o.length;t++){o[t].style.display="block"}let l;"input"==i?(s.value=d,t.value=n):t.hasAttribute("multiple")?(r.classList.toggle("_selected"),c()):(e.querySelector(".select__value").innerHTML="<span>"+d+"</span>",t.value=n,r.style.display="none"),t.hasAttribute("multiple")&&(l="multiple"),a(l)}))}}function select_get_options(t){if(t){let e="";for(let l=0;l<t.length;l++){const r=t[l],n=r.value;if(""!=n){e=e+'<div data-value="'+n+'" class="select__option">'+r.innerHTML+"</div>"}}return e}}function select_search(t){t.target.closest(".select ").querySelector(".select__options");let e=t.target.closest(".select ").querySelectorAll(".select__option"),l=t.target.value.toUpperCase();for(let t=0;t<e.length;t++){let r=e[t];(r.textContent||r.innerText).toUpperCase().indexOf(l)>-1?r.style.display="":r.style.display="none"}}function selects_update_all(){let t=document.querySelectorAll("select");if(t)for(let e=0;e<t.length;e++){select_item(t[e])}}selects.length>0&&selects_init();let inputs=document.querySelectorAll("input[data-value],textarea[data-value]");function inputs_init(t){if(t.length>0)for(let e=0;e<t.length;e++){const l=t[e],r=l.getAttribute("data-value");if(input_placeholder_add(l),""!=l.value&&l.value!=r&&input_focus_add(l),l.addEventListener("focus",(function(t){l.value==r&&(input_focus_add(l),l.value=""),"pass"!==l.getAttribute("data-type")||l.parentElement.querySelector(".form__viewpass").classList.contains("_active")||l.setAttribute("type","password"),l.classList.contains("_date"),l.classList.contains("_phone")&&(l.classList.add("_mask"),Inputmask("+1(999) 999 9999",{clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(l,r)}}).mask(l)),l.classList.contains("_digital")&&(l.classList.add("_mask"),Inputmask("9{1,}",{placeholder:"",clearIncomplete:!0,clearMaskOnLostFocus:!0,onincomplete:function(){input_clear_mask(l,r)}}).mask(l)),form_remove_error(l)})),l.addEventListener("blur",(function(t){""==l.value&&(l.value=r,input_focus_remove(l),l.classList.contains("_mask")&&input_clear_mask(l,r),"pass"===l.getAttribute("data-type")&&l.setAttribute("type","text"))})),l.classList.contains("_date")){const t=datepicker(l,{customDays:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],customMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],overlayButton:"Применить",overlayPlaceholder:"Год (4 цифры)",startDay:1,formatter:(t,e,l)=>{const r=e.toLocaleDateString();t.value=r},onSelect:function(t,e,l){input_focus_add(t.el)}}),e=l.getAttribute("data-from"),r=l.getAttribute("data-to");e&&t.setMin(new Date(e)),r&&t.setMax(new Date(r))}}}function input_placeholder_add(t){const e=t.getAttribute("data-value");""==t.value&&""!=e&&(t.value=e)}function input_focus_add(t){t.classList.add("_focus"),t.parentElement.classList.add("_focus")}function input_focus_remove(t){t.classList.remove("_focus"),t.parentElement.classList.remove("_focus")}function input_clear_mask(t,e){t.inputmask.remove(),t.value=e,input_focus_remove(t)}inputs_init(inputs);let quantityButtons=document.querySelectorAll(".quantity__button");if(quantityButtons.length>0)for(let t=0;t<quantityButtons.length;t++){const e=quantityButtons[t];e.addEventListener("click",(function(t){let l=parseInt(e.closest(".quantity").querySelector("input").value);e.classList.contains("quantity__button_plus")?l++:(l-=1,l<1&&(l=1)),e.closest(".quantity").querySelector("input").value=l}))}const priceSlider=document.querySelector(".price-filter__slider");if(priceSlider){let t=priceSlider.getAttribute("data-from"),e=priceSlider.getAttribute("data-to");function setPriceValues(){let t,e;""!=priceStart.value&&(t=priceStart.value),""!=priceEnd.value&&(e=priceEnd.value),priceSlider.noUiSlider.set([t,e])}noUiSlider.create(priceSlider,{start:[0,2e5],connect:!0,tooltips:[wNumb({decimals:0,prefix:t+" "}),wNumb({decimals:0,prefix:e+" "})],range:{min:[0],max:[2e5]}})}let currentScroll,scr_body=document.querySelector("body"),scr_blocks=document.querySelectorAll("._scr-sector"),scr_items=document.querySelectorAll("._scr-item"),scr_fix_block=document.querySelectorAll("._side-wrapper"),scr_min_height=750,scrolling=!0,scrolling_full=!0,scrollDirection=0;function scroll_scroll(){let t=currentScroll=pageYOffset,e=document.querySelector("header.header");if(null!==e&&(t>10?e.classList.add("_scroll"):e.classList.remove("_scroll")),scr_blocks.length>0)for(let t=0;t<scr_blocks.length;t++){let e=scr_blocks[t],l=offset(e).top,r=e.offsetHeight;pageYOffset>l-window.innerHeight/1.5&&pageYOffset<l+r-window.innerHeight/5?e.classList.add("_scr-sector_active"):e.classList.contains("_scr-sector_active")&&e.classList.remove("_scr-sector_active"),pageYOffset>l-window.innerHeight/2&&pageYOffset<l+r-window.innerHeight/5?e.classList.contains("_scr-sector_current")||e.classList.add("_scr-sector_current"):e.classList.contains("_scr-sector_current")&&e.classList.remove("_scr-sector_current")}if(scr_items.length>0)for(let e=0;e<scr_items.length;e++){let l=scr_items[e],r=offset(l).top,n=l.offsetHeight,o=window.innerHeight-(window.innerHeight-n/3);window.innerHeight>n&&(o=window.innerHeight-n/3),t>r-o&&t<r+n?(l.classList.add("_active"),scroll_load_item(l)):l.classList.remove("_active"),t>r-window.innerHeight&&l.querySelectorAll("._lazy").length>0&&scroll_lazy(l)}scr_fix_block.length>0&&fix_block(scr_fix_block,t);let l=document.querySelector("._custom-scroll__line");if(l){let t=window.innerHeight,e=document.querySelector(".wrapper").offsetHeight,r=pageYOffset/(e-t)*100,n=l.offsetHeight;l.style.transform="translateY("+(t-n)/100*r+"px)"}scrollDirection=t<=0?0:t}function scroll_lazy(t){let e=t.querySelectorAll("*[data-src]");if(e.length>0)for(let t=0;t<e.length;t++){const l=e[t];l.classList.contains("_loaded")||(l.setAttribute("src",l.getAttribute("data-src")),l.classList.add("_loaded"))}let l=t.querySelectorAll("*[data-srcset]");if(l.length>0)for(let t=0;t<l.length;t++){const e=l[t];e.classList.contains("_loaded")||(e.setAttribute("srcset",e.getAttribute("data-srcset")),e.classList.add("_loaded"))}}function scroll_load_item(t){if(t.classList.contains("_load-map")&&!t.classList.contains("_loaded-map")){document.getElementById("map")&&(t.classList.add("_loaded-map"),map())}}function scrParallax(t,e,l){let r=t.querySelectorAll("._prlx-item");if(r.length>0)for(let t=0;t<r.length;t++){const n=r[t];const o=l/100*e/(n.dataset.prlx?n.dataset.prlx:3)*-1;n.style.cssText=`transform: translateY(${o}px);`}}if(window.addEventListener("scroll",scroll_scroll),setTimeout((function(){scroll_scroll()}),100),scr_blocks.length>0&&!isMobile.any()){disableScroll(),window.addEventListener("wheel",full_scroll);let t=document.querySelectorAll("._swiper_scroll");if(t.length>0)for(let e=0;e<t.length;e++){const l=t[e];l.addEventListener("mouseenter",(function(t){window.removeEventListener("wheel",full_scroll)})),l.addEventListener("mouseleave",(function(t){window.addEventListener("wheel",full_scroll)}))}}function getPrevBlockPos(t){let e=window.innerHeight,l=t.offsetHeight,r=offset(t).top;return l>=e&&(r+=l-e),r}function full_scroll(t){let e=window.innerHeight;if(e>=scr_min_height)if(scrolling_full){let l=document.querySelector("._scr-sector._scr-sector_current"),r=offset(l).top,n=l.offsetHeight,o=l.nextElementSibling,i=l.previousElementSibling;if(40==t.keyCode||34==t.keyCode||t.deltaX>0||t.deltaY<0)n<=e?i&&full_scroll_to_sector(getPrevBlockPos(i)):(enableScroll(),currentScroll<=r&&i&&full_scroll_to_sector(getPrevBlockPos(i)));else if(38==t.keyCode||33==t.keyCode||t.deltaX<0||t.deltaY>0)if(n<=e){if(o){full_scroll_to_sector(offset(o).top)}}else if(enableScroll(),o){let t=offset(o).top;currentScroll>=t-e&&full_scroll_to_sector(t)}}else disableScroll();else enableScroll()}function full_scroll_to_sector(t){disableScroll(),scrolling_full=!1,_goto(t,800);let e=500;-1!=navigator.appVersion.indexOf("Mac")&&(e=1e3),setTimeout((function(){scrolling_full=!0}),e)}function full_scroll_pagestart(){}function full_scroll_pageend(){}let link=document.querySelectorAll("._goto-block");if(link){let t=[];for(let e=0;e<link.length;e++){let l=link[e],r=l.getAttribute("href").replace("#","");""==r||~t.indexOf(r)||t.push(r),l.addEventListener("click",(function(t){document.querySelector(".menu__body._active")&&(menu_close(),body_lock_remove(500));let e=l.getAttribute("href").replace("#","");_goto(document.querySelector("."+e),300),t.preventDefault()}))}window.addEventListener("scroll",(function(e){let l=document.querySelectorAll("._goto-block._active");if(l)for(let t=0;t<l.length;t++){l[t].classList.remove("_active")}for(let e=0;e<t.length;e++){let l=t[e],r=document.querySelector("."+l);if(r){let t=offset(r).top,e=r.offsetHeight;if(pageYOffset>t-window.innerHeight/3&&pageYOffset<t+e-window.innerHeight/3){let t=document.querySelectorAll('._goto-block[href="#'+l+'"]');for(let e=0;e<t.length;e++){t[e].classList.add("_active")}}}}}))}let goto_links=document.querySelectorAll("._goto");if(goto_links)for(let t=0;t<goto_links.length;t++){let e=goto_links[t];e.addEventListener("click",(function(t){let l=e.getAttribute("href").replace("#","");_goto(document.querySelector("."+l),300),t.preventDefault()}))}function _goto(t,e,l=0){let r={speedAsDuration:!0,speed:e,header:"",offset:l,easing:"easeOutQuad"};(new SmoothScroll).animateScroll(t,"",r)}function offset(t){var e=t.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+r,left:e.left+l}}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),document.addEventListener("wheel",preventDefault,{passive:!1}),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),document.removeEventListener("wheel",preventDefault,{passive:!1}),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function preventDefault(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}function preventDefaultForScrollKeys(t){}function fix_block(t,e){let l=parseInt(window.innerWidth),r=parseInt(window.innerHeight),n=parseInt(document.querySelector("header").offsetHeight)+15;for(let i=0;i<t.length;i++){const s=t[i];let c=s.getAttribute("data-width");const a=s.querySelector("._side-block");c||(c=0),l>c&&(a.offsetHeight<r-(n+30)?(e>offset(s).top-(n+15)?a.style.cssText="position:fixed;bottom:auto;top:"+n+"px;width:"+s.offsetWidth+"px;left:"+offset(s).left+"px;":o(a),e>s.offsetHeight+offset(s).top-(a.offsetHeight+(n+15))&&(s.style.cssText="position:relative;",a.style.cssText="position:absolute;bottom:0;top:auto;left:0px;width:100%")):o(a))}function o(t){t.style.cssText="position:relative;bottom:auto;top:0px;left:0px;"}}function custom_scroll(t){scr_body.style.overflow="hidden";let e=window.innerHeight,l=document.querySelector("._custom-scroll__line"),r=document.querySelector(".wrapper").offsetHeight,n=Math.min(e,Math.round(e*(e/r)));if(r>e){if(!l){let t=document.createElement("div");l=document.createElement("div"),t.setAttribute("class","_custom-scroll"),l.setAttribute("class","_custom-scroll__line"),t.appendChild(l),scr_body.appendChild(t)}l.style.height=n+"px"}}isMobile.any();let new_pos=pageYOffset;function scroll_animate(t){let e=window.innerHeight,l=document.querySelector(".wrapper").offsetHeight;pageYOffset;if(40==t.keyCode||34==t.keyCode||t.deltaX>0||t.deltaY<0?new_pos-=100:(38==t.keyCode||33==t.keyCode||t.deltaX<0||t.deltaY>0)&&(new_pos+=100),new_pos>l-e&&(new_pos=l-e),new_pos<0&&(new_pos=0),scrolling){scrolling=!1,_goto(new_pos,1e3);let t=100;-1!=navigator.appVersion.indexOf("Mac")&&(t*=2),setTimeout((function(){scrolling=!0,_goto(new_pos,1e3)}),t)}}const modalTrigger=document.querySelectorAll("[data-modal]"),modalCloseBtn=document.querySelector("[data-close]"),modalClose=document.querySelector(".modal__close"),modal=document.querySelector(".modal");function openModal(){modal.classList.toggle("_active"),document.body.style.overflow="hidden"}function closeModal(){modal.classList.toggle("_active"),document.body.style.overflow=""}modalTrigger.forEach(t=>{t.addEventListener("click",()=>{openModal()})}),modal.addEventListener("click",t=>{t.target!==modal&&t.target!=modalClose&&t.target!=modalCloseBtn||closeModal()}),document.addEventListener("keydown",t=>{"Escape"==t.code&&modal.classList.contains("_active")&&closeModal()});